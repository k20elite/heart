<script type="text/javascript">
//<![CDATA[
document.write(unescape("%3C%21DOCTYPE%20HTML%20PUBLIC%20%22-//W3C//DTD%20HTML%204.0%20Transitional//EN%22%3E%0A%0A%3CHTML%3E%0A%0A%20%3CHEAD%3E%0A%0A%20%20%3CTITLE%3E%20New%20Document%20%3C/TITLE%3E%0A%0A%20%20%3CMETA%20NAME%3D%22Generator%22%20CONTENT%3D%22EditPlus%22%3E%0A%0A%20%20%3CMETA%20NAME%3D%22Author%22%20CONTENT%3D%22%22%3E%0A%0A%20%20%3CMETA%20NAME%3D%22Keywords%22%20CONTENT%3D%22%22%3E%0A%0A%20%20%3CMETA%20NAME%3D%22Description%22%20CONTENT%3D%22%22%3E%0A%0A%20%20%3Cstyle%3E%0A%0A%20%20html%2C%20body%20%7B%0A%0A%20%20height%3A%20100%25%3B%0A%0A%20%20padding%3A%200%3B%0A%0A%20%20margin%3A%200%3B%0A%0A%20%20background%3A%20%23000%3B%0A%0A%7D%0A%0Acanvas%20%7B%0A%0A%20%20position%3A%20absolute%3B%0A%0A%20%20width%3A%20100%25%3B%0A%0A%20%20height%3A%20100%25%3B%0A%0A%7D%0A%0A%20%20%3C/style%3E%0A%0A%20%3C/HEAD%3E%0A%0A%0A%20%3CBODY%3E%0A%0A%20%20%3Ccanvas%20id%3D%22pinkboard%22%3E%3C/canvas%3E%0A%0A%20%20%3Cscript%3E%0A%0A%20%20/*%0A%0A%20*%20Settings%0A%0A%20*/%0A%0Avar%20settings%20%3D%20%7B%0A%0A%20%20particles%3A%20%7B%0A%0A%20%20%20%20length%3A%20%20%20500%2C%20//%20maximum%20amount%20of%20particles%0A%0A%20%20%20%20duration%3A%20%20%202%2C%20//%20particle%20duration%20in%20sec%0A%0A%20%20%20%20velocity%3A%20100%2C%20//%20particle%20velocity%20in%20pixels/sec%0A%0A%20%20%20%20effect%3A%20-0.75%2C%20//%20play%20with%20this%20for%20a%20nice%20effect%0A%0A%20%20%20%20size%3A%20%20%20%20%20%2030%2C%20//%20particle%20size%20in%20pixels%0A%0A%20%20%7D%2C%0A%0A%7D%3B%0A%0A%0A/*%0A%0A%20*%20RequestAnimationFrame%20polyfill%20by%20Erik%20M%F6ller%0A%0A%20*/%0A%0A%28function%28%29%7Bvar%20b%3D0%3Bvar%20c%3D%5B%22ms%22%2C%22moz%22%2C%22webkit%22%2C%22o%22%5D%3Bfor%28var%20a%3D0%3Ba%3Cc.length%26%26%21window.requestAnimationFrame%3B++a%29%7Bwindow.requestAnimationFrame%3Dwindow%5Bc%5Ba%5D+%22RequestAnimationFrame%22%5D%3Bwindow.cancelAnimationFrame%3Dwindow%5Bc%5Ba%5D+%22CancelAnimationFrame%22%5D%7C%7Cwindow%5Bc%5Ba%5D+%22CancelRequestAnimationFrame%22%5D%7Dif%28%21window.requestAnimationFrame%29%7Bwindow.requestAnimationFrame%3Dfunction%28h%2Ce%29%7Bvar%20d%3Dnew%20Date%28%29.getTime%28%29%3Bvar%20f%3DMath.max%280%2C16-%28d-b%29%29%3Bvar%20g%3Dwindow.setTimeout%28function%28%29%7Bh%28d+f%29%7D%2Cf%29%3Bb%3Dd+f%3Breturn%20g%7D%7Dif%28%21window.cancelAnimationFrame%29%7Bwindow.cancelAnimationFrame%3Dfunction%28d%29%7BclearTimeout%28d%29%7D%7D%7D%28%29%29%3B%0A%0A%0A/*%0A%0A%20*%20Point%20class%0A%0A%20*/%0A%0Avar%20Point%20%3D%20%28function%28%29%20%7B%0A%0A%20%20function%20Point%28x%2C%20y%29%20%7B%0A%0A%20%20%20%20this.x%20%3D%20%28typeof%20x%20%21%3D%3D%20%27undefined%27%29%20%3F%20x%20%3A%200%3B%0A%0A%20%20%20%20this.y%20%3D%20%28typeof%20y%20%21%3D%3D%20%27undefined%27%29%20%3F%20y%20%3A%200%3B%0A%0A%20%20%7D%0A%0A%20%20Point.prototype.clone%20%3D%20function%28%29%20%7B%0A%0A%20%20%20%20return%20new%20Point%28this.x%2C%20this.y%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20Point.prototype.length%20%3D%20function%28length%29%20%7B%0A%0A%20%20%20%20if%20%28typeof%20length%20%3D%3D%20%27undefined%27%29%0A%0A%20%20%20%20%20%20return%20Math.sqrt%28this.x%20*%20this.x%20+%20this.y%20*%20this.y%29%3B%0A%0A%20%20%20%20this.normalize%28%29%3B%0A%0A%20%20%20%20this.x%20*%3D%20length%3B%0A%0A%20%20%20%20this.y%20*%3D%20length%3B%0A%0A%20%20%20%20return%20this%3B%0A%0A%20%20%7D%3B%0A%0A%20%20Point.prototype.normalize%20%3D%20function%28%29%20%7B%0A%0A%20%20%20%20var%20length%20%3D%20this.length%28%29%3B%0A%0A%20%20%20%20this.x%20/%3D%20length%3B%0A%0A%20%20%20%20this.y%20/%3D%20length%3B%0A%0A%20%20%20%20return%20this%3B%0A%0A%20%20%7D%3B%0A%0A%20%20return%20Point%3B%0A%0A%7D%29%28%29%3B%0A%0A%0A/*%0A%0A%20*%20Particle%20class%0A%0A%20*/%0A%0Avar%20Particle%20%3D%20%28function%28%29%20%7B%0A%0A%20%20function%20Particle%28%29%20%7B%0A%0A%20%20%20%20this.position%20%3D%20new%20Point%28%29%3B%0A%0A%20%20%20%20this.velocity%20%3D%20new%20Point%28%29%3B%0A%0A%20%20%20%20this.acceleration%20%3D%20new%20Point%28%29%3B%0A%0A%20%20%20%20this.age%20%3D%200%3B%0A%0A%20%20%7D%0A%0A%20%20Particle.prototype.initialize%20%3D%20function%28x%2C%20y%2C%20dx%2C%20dy%29%20%7B%0A%0A%20%20%20%20this.position.x%20%3D%20x%3B%0A%0A%20%20%20%20this.position.y%20%3D%20y%3B%0A%0A%20%20%20%20this.velocity.x%20%3D%20dx%3B%0A%0A%20%20%20%20this.velocity.y%20%3D%20dy%3B%0A%0A%20%20%20%20this.acceleration.x%20%3D%20dx%20*%20settings.particles.effect%3B%0A%0A%20%20%20%20this.acceleration.y%20%3D%20dy%20*%20settings.particles.effect%3B%0A%0A%20%20%20%20this.age%20%3D%200%3B%0A%0A%20%20%7D%3B%0A%0A%20%20Particle.prototype.update%20%3D%20function%28deltaTime%29%20%7B%0A%0A%20%20%20%20this.position.x%20+%3D%20this.velocity.x%20*%20deltaTime%3B%0A%0A%20%20%20%20this.position.y%20+%3D%20this.velocity.y%20*%20deltaTime%3B%0A%0A%20%20%20%20this.velocity.x%20+%3D%20this.acceleration.x%20*%20deltaTime%3B%0A%0A%20%20%20%20this.velocity.y%20+%3D%20this.acceleration.y%20*%20deltaTime%3B%0A%0A%20%20%20%20this.age%20+%3D%20deltaTime%3B%0A%0A%20%20%7D%3B%0A%0A%20%20Particle.prototype.draw%20%3D%20function%28context%2C%20image%29%20%7B%0A%0A%20%20%20%20function%20ease%28t%29%20%7B%0A%0A%20%20%20%20%20%20return%20%28--t%29%20*%20t%20*%20t%20+%201%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20size%20%3D%20image.width%20*%20ease%28this.age%20/%20settings.particles.duration%29%3B%0A%0A%20%20%20%20context.globalAlpha%20%3D%201%20-%20this.age%20/%20settings.particles.duration%3B%0A%0A%20%20%20%20context.drawImage%28image%2C%20this.position.x%20-%20size%20/%202%2C%20this.position.y%20-%20size%20/%202%2C%20size%2C%20size%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20return%20Particle%3B%0A%0A%7D%29%28%29%3B%0A%0A%0A/*%0A%0A%20*%20ParticlePool%20class%0A%0A%20*/%0A%0Avar%20ParticlePool%20%3D%20%28function%28%29%20%7B%0A%0A%20%20var%20particles%2C%0A%0A%20%20%20%20%20%20firstActive%20%3D%200%2C%0A%0A%20%20%20%20%20%20firstFree%20%20%20%3D%200%2C%0A%0A%20%20%20%20%20%20duration%20%20%20%20%3D%20settings.particles.duration%3B%0A%0A%20%0A%0A%20%20function%20ParticlePool%28length%29%20%7B%0A%0A%20%20%20%20//%20create%20and%20populate%20particle%20pool%0A%0A%20%20%20%20particles%20%3D%20new%20Array%28length%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20particles.length%3B%20i++%29%0A%0A%20%20%20%20%20%20particles%5Bi%5D%20%3D%20new%20Particle%28%29%3B%0A%0A%20%20%7D%0A%0A%20%20ParticlePool.prototype.add%20%3D%20function%28x%2C%20y%2C%20dx%2C%20dy%29%20%7B%0A%0A%20%20%20%20particles%5BfirstFree%5D.initialize%28x%2C%20y%2C%20dx%2C%20dy%29%3B%0A%0A%20%20%20%0A%0A%20%20%20%20//%20handle%20circular%20queue%0A%0A%20%20%20%20firstFree++%3B%0A%0A%20%20%20%20if%20%28firstFree%20%20%20%3D%3D%20particles.length%29%20firstFree%20%20%20%3D%200%3B%0A%0A%20%20%20%20if%20%28firstActive%20%3D%3D%20firstFree%20%20%20%20%20%20%20%29%20firstActive++%3B%0A%0A%20%20%20%20if%20%28firstActive%20%3D%3D%20particles.length%29%20firstActive%20%3D%200%3B%0A%0A%20%20%7D%3B%0A%0A%20%20ParticlePool.prototype.update%20%3D%20function%28deltaTime%29%20%7B%0A%0A%20%20%20%20var%20i%3B%0A%0A%20%20%20%0A%0A%20%20%20%20//%20update%20active%20particles%0A%0A%20%20%20%20if%20%28firstActive%20%3C%20firstFree%29%20%7B%0A%0A%20%20%20%20%20%20for%20%28i%20%3D%20firstActive%3B%20i%20%3C%20firstFree%3B%20i++%29%0A%0A%20%20%20%20%20%20%20%20particles%5Bi%5D.update%28deltaTime%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28firstFree%20%3C%20firstActive%29%20%7B%0A%0A%20%20%20%20%20%20for%20%28i%20%3D%20firstActive%3B%20i%20%3C%20particles.length%3B%20i++%29%0A%0A%20%20%20%20%20%20%20%20particles%5Bi%5D.update%28deltaTime%29%3B%0A%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20firstFree%3B%20i++%29%0A%0A%20%20%20%20%20%20%20%20particles%5Bi%5D.update%28deltaTime%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%0A%0A%20%20%20%20//%20remove%20inactive%20particles%0A%0A%20%20%20%20while%20%28particles%5BfirstActive%5D.age%20%3E%3D%20duration%20%26%26%20firstActive%20%21%3D%20firstFree%29%20%7B%0A%0A%20%20%20%20%20%20firstActive++%3B%0A%0A%20%20%20%20%20%20if%20%28firstActive%20%3D%3D%20particles.length%29%20firstActive%20%3D%200%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%0A%0A%20%20%20%0A%0A%20%20%7D%3B%0A%0A%20%20ParticlePool.prototype.draw%20%3D%20function%28context%2C%20image%29%20%7B%0A%0A%20%20%20%20//%20draw%20active%20particles%0A%0A%20%20%20%20if%20%28firstActive%20%3C%20firstFree%29%20%7B%0A%0A%20%20%20%20%20%20for%20%28i%20%3D%20firstActive%3B%20i%20%3C%20firstFree%3B%20i++%29%0A%0A%20%20%20%20%20%20%20%20particles%5Bi%5D.draw%28context%2C%20image%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28firstFree%20%3C%20firstActive%29%20%7B%0A%0A%20%20%20%20%20%20for%20%28i%20%3D%20firstActive%3B%20i%20%3C%20particles.length%3B%20i++%29%0A%0A%20%20%20%20%20%20%20%20particles%5Bi%5D.draw%28context%2C%20image%29%3B%0A%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20firstFree%3B%20i++%29%0A%0A%20%20%20%20%20%20%20%20particles%5Bi%5D.draw%28context%2C%20image%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20return%20ParticlePool%3B%0A%0A%7D%29%28%29%3B%0A%0A%0A/*%0A%0A%20*%20Putting%20it%20all%20together%0A%0A%20*/%0A%0A%28function%28canvas%29%20%7B%0A%0A%20%20var%20context%20%3D%20canvas.getContext%28%272d%27%29%2C%0A%0A%20%20%20%20%20%20particles%20%3D%20new%20ParticlePool%28settings.particles.length%29%2C%0A%0A%20%20%20%20%20%20particleRate%20%3D%20settings.particles.length%20/%20settings.particles.duration%2C%20//%20particles/sec%0A%0A%20%20%20%20%20%20time%3B%0A%0A%20%0A%0A%20%20//%20get%20point%20on%20heart%20with%20-PI%20%3C%3D%20t%20%3C%3D%20PI%0A%0A%20%20function%20pointOnHeart%28t%29%20%7B%0A%0A%20%20%20%20return%20new%20Point%28%0A%0A%20%20%20%20%20%20160%20*%20Math.pow%28Math.sin%28t%29%2C%203%29%2C%0A%0A%20%20%20%20%20%20130%20*%20Math.cos%28t%29%20-%2050%20*%20Math.cos%282%20*%20t%29%20-%2020%20*%20Math.cos%283%20*%20t%29%20-%2010%20*%20Math.cos%284%20*%20t%29%20+%2025%0A%0A%20%20%20%20%29%3B%0A%0A%20%20%7D%0A%0A%20%0A%0A%20%20//%20creating%20the%20particle%20image%20using%20a%20dummy%20canvas%0A%0A%20%20var%20image%20%3D%20%28function%28%29%20%7B%0A%0A%20%20%20%20var%20canvas%20%20%3D%20document.createElement%28%27canvas%27%29%2C%0A%0A%20%20%20%20%20%20%20%20context%20%3D%20canvas.getContext%28%272d%27%29%3B%0A%0A%20%20%20%20canvas.width%20%20%3D%20settings.particles.size%3B%0A%0A%20%20%20%20canvas.height%20%3D%20settings.particles.size%3B%0A%0A%20%20%20%20//%20helper%20function%20to%20create%20the%20path%0A%0A%20%20%20%20function%20to%28t%29%20%7B%0A%0A%20%20%20%20%20%20var%20point%20%3D%20pointOnHeart%28t%29%3B%0A%0A%20%20%20%20%20%20point.x%20%3D%20settings.particles.size%20/%202%20+%20point.x%20*%20settings.particles.size%20/%20350%3B%0A%0A%20%20%20%20%20%20point.y%20%3D%20settings.particles.size%20/%202%20-%20point.y%20*%20settings.particles.size%20/%20350%3B%0A%0A%20%20%20%20%20%20return%20point%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20//%20create%20the%20path%0A%0A%20%20%20%20context.beginPath%28%29%3B%0A%0A%20%20%20%20var%20t%20%3D%20-Math.PI%3B%0A%0A%20%20%20%20var%20point%20%3D%20to%28t%29%3B%0A%0A%20%20%20%20context.moveTo%28point.x%2C%20point.y%29%3B%0A%0A%20%20%20%20while%20%28t%20%3C%20Math.PI%29%20%7B%0A%0A%20%20%20%20%20%20t%20+%3D%200.01%3B%20//%20baby%20steps%21%0A%0A%20%20%20%20%20%20point%20%3D%20to%28t%29%3B%0A%0A%20%20%20%20%20%20context.lineTo%28point.x%2C%20point.y%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20context.closePath%28%29%3B%0A%0A%20%20%20%20//%20create%20the%20fill%0A%0A%20%20%20%20context.fillStyle%20%3D%20%27%23ea80b0%27%3B%0A%0A%20%20%20%20context.fill%28%29%3B%0A%0A%20%20%20%20//%20create%20the%20image%0A%0A%20%20%20%20var%20image%20%3D%20new%20Image%28%29%3B%0A%0A%20%20%20%20image.src%20%3D%20canvas.toDataURL%28%29%3B%0A%0A%20%20%20%20return%20image%3B%0A%0A%20%20%7D%29%28%29%3B%0A%0A%20%0A%0A%20%20//%20render%20that%20thing%21%0A%0A%20%20function%20render%28%29%20%7B%0A%0A%20%20%20%20//%20next%20animation%20frame%0A%0A%20%20%20%20requestAnimationFrame%28render%29%3B%0A%0A%20%20%20%0A%0A%20%20%20%20//%20update%20time%0A%0A%20%20%20%20var%20newTime%20%20%20%3D%20new%20Date%28%29.getTime%28%29%20/%201000%2C%0A%0A%20%20%20%20%20%20%20%20deltaTime%20%3D%20newTime%20-%20%28time%20%7C%7C%20newTime%29%3B%0A%0A%20%20%20%20time%20%3D%20newTime%3B%0A%0A%20%20%20%0A%0A%20%20%20%20//%20clear%20canvas%0A%0A%20%20%20%20context.clearRect%280%2C%200%2C%20canvas.width%2C%20canvas.height%29%3B%0A%0A%20%20%20%0A%0A%20%20%20%20//%20create%20new%20particles%0A%0A%20%20%20%20var%20amount%20%3D%20particleRate%20*%20deltaTime%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20amount%3B%20i++%29%20%7B%0A%0A%20%20%20%20%20%20var%20pos%20%3D%20pointOnHeart%28Math.PI%20-%202%20*%20Math.PI%20*%20Math.random%28%29%29%3B%0A%0A%20%20%20%20%20%20var%20dir%20%3D%20pos.clone%28%29.length%28settings.particles.velocity%29%3B%0A%0A%20%20%20%20%20%20particles.add%28canvas.width%20/%202%20+%20pos.x%2C%20canvas.height%20/%202%20-%20pos.y%2C%20dir.x%2C%20-dir.y%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%0A%0A%20%20%20%20//%20update%20and%20draw%20particles%0A%0A%20%20%20%20particles.update%28deltaTime%29%3B%0A%0A%20%20%20%20particles.draw%28context%2C%20image%29%3B%0A%0A%20%20%7D%0A%0A%20%0A%0A%20%20//%20handle%20%28re-%29sizing%20of%20the%20canvas%0A%0A%20%20function%20onResize%28%29%20%7B%0A%0A%20%20%20%20canvas.width%20%20%3D%20canvas.clientWidth%3B%0A%0A%20%20%20%20canvas.height%20%3D%20canvas.clientHeight%3B%0A%0A%20%20%7D%0A%0A%20%20window.onresize%20%3D%20onResize%3B%0A%0A%20%0A%0A%20%20//%20delay%20rendering%20bootstrap%0A%0A%20%20setTimeout%28function%28%29%20%7B%0A%0A%20%20%20%20onResize%28%29%3B%0A%0A%20%20%20%20render%28%29%3B%0A%0A%20%20%7D%2C%2010%29%3B%0A%0A%7D%29%28document.getElementById%28%27pinkboard%27%29%29%3B%0A%0A%20%20%3C/script%3E%0A%0A%20%3C/BODY%3E%0A%0A%3C/HTML%3E")); 
//]]>
</script>
